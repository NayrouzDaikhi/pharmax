{% extends 'blog/base.html.twig' %}

{% block blog_content %}
<!-- Header Section -->
<div style="background-color: #f8f9fa; padding: 40px 0; margin-bottom: 40px; border-bottom: 2px solid #5ea96b;">
    <div style="max-width: 1000px; margin: 0 auto; padding: 0 20px;">
        <h1 style="font-size: 32px; font-weight: 700; color: #2c3e50; margin-bottom: 10px;">
            <i class="fas fa-bookmark"></i> {{'My Saved Articles'|trans}}
        </h1>
        <p style="color: #999; font-size: 14px; margin: 0;">
            {{'Articles saved for reading later'|trans}}
        </p>
    </div>
</div>

<!-- Saved Articles -->
{% if articles is not empty %}
    <div class="posts-grid" style="max-width: 1000px; margin: 0 auto; padding: 0 20px;">
        {% for article in articles %}
            <div class="post-item" onclick="window.location.href='{{ path('app_blog_show', {'id': article.id}) }}';">
                <div class="post-image-wrap">
                    <a href="{{ path('app_blog_show', {'id': article.id}) }}" class="post-image-link">
                        {% if article.image %}
                            <img src="{{ asset('uploads/images/' ~ article.image) }}" alt="{{ article.titre }}" class="post-image">
                        {% else %}
                            <div class="post-image-placeholder">
                                <i class="fas fa-image"></i>
                            </div>
                        {% endif %}
                    </a>
                </div>
                <div class="post-content">
                    <span class="post-category">{{'Blog'|trans}}</span>
                    <h3 class="post-title">
                        <a href="{{ path('app_blog_show', {'id': article.id}) }}">{{ article.titre }}</a>
                    </h3>
                    <p class="post-excerpt">{{ article.contenu|slice(0, 120) }}...</p>
                    <div class="post-meta">
                        <div class="post-meta-item">
                            <i class="fas fa-calendar"></i>
                            {{ article.dateCreation|date('d M Y') }}
                        </div>
                        <div class="post-meta-item">
                            <i class="fas fa-comments"></i>
                            {{ article.commentaires|length }}
                        </div>
                    </div>
                    <div class="post-actions">
                        <button class="btn-action btn-like" data-article-id="{{ article.id }}" data-likes="{{ article.likes }}" onclick="event.stopPropagation(); toggleLike({{ article.id }}, this);">
                            <i class="fas fa-heart"></i> <span class="like-count">{{ article.likes }}</span>
                        </button>
                        <button class="btn-action btn-read-later active" data-article-id="{{ article.id }}" onclick="event.stopPropagation(); toggleReadLater({{ article.id }}, this);" title="{{'Remove from saved'|trans}}">
                            <i class="fas fa-bookmark"></i> <span class="read-later-text">{{'Saved'|trans}}</span>
                        </button>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <!-- Empty State -->
    <div class="empty-state" style="max-width: 1000px; margin: 0 auto; padding: 40px 20px;">
        <i class="fas fa-bookmark" style="font-size: 64px; color: #ccc; margin-bottom: 20px;"></i>
        <p style="font-size: 16px; color: #999;">
            {{'You have no saved articles yet.'|trans}}
        </p>
        <a href="{{ path('app_blog_index') }}" style="display: inline-block; margin-top: 20px; background-color: #5ea96b; color: white; padding: 12px 24px; border-radius: 4px; text-decoration: none; font-weight: 700;">
            <i class="fas fa-arrow-left"></i> {{'Browse Articles'|trans}}
        </a>
    </div>
{% endif %}
{% endblock %}
